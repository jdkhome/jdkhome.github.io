(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{474:function(s,n,e){"use strict";e.r(n);var a=e(30),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"ubuntu-设置静态ip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-设置静态ip"}},[s._v("#")]),s._v(" ubuntu 设置静态ip")]),s._v(" "),e("h2",{attrs:{id:"环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[s._v("#")]),s._v(" 环境")]),s._v(" "),e("p",[s._v("我进行设置静态ip的机器是 ubuntu18.04 Server版")]),s._v(" "),e("h2",{attrs:{id:"找到要设置的网卡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#找到要设置的网卡"}},[s._v("#")]),s._v(" 找到要设置的网卡")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("root@ubuntu:/home/ubuntu"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ip addr")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(": lo: "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("LOOPBACK,UP,LOWER_UP"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" qdisc noqueue state UNKNOWN group default qlen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1/8 scope "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" \n       valid_lft forever preferred_lft forever\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(": ens33: "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("BROADCAST,MULTICAST,UP,LOWER_UP"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mtu "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" qdisc fq_codel state UP group default qlen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n    link/ether 00:50:56:34:05:a8 brd ff:ff:ff:ff:ff:ff\n    inet "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.169/24 brd "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12.255 scope global dynamic ens33\n       valid_lft 83640sec preferred_lft 83640sec\n    inet6 fe80::250:56ff:fe34:5a8/64 scope "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" \n       valid_lft forever preferred_lft forever\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("p",[s._v("可以看到 ens33 这个是我们要改的网卡")]),s._v(" "),e("h2",{attrs:{id:"修改网卡配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改网卡配置文件"}},[s._v("#")]),s._v(" 修改网卡配置文件")]),s._v(" "),e("p",[s._v("这是默认的配置文件")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("root@ubuntu:/home/ubuntu"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /etc/netplan/50-cloud-init.yaml")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This file is generated from information provided by")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# the datasource.  Changes to it will not persist across an instance.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# To disable cloud-init's network configuration capabilities, write a file")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# network: {config: disabled}")]),s._v("\nnetwork:\n    ethernets:\n        ens33:\n            dhcp4: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    version: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("我希望把ip修改为192.168.12.144")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("root@ubuntu:/home/ubuntu# cat /etc/netplan/50-cloud-init.yaml \n# This file is generated from information provided by\n# the datasource.  Changes to it will not persist across an instance.\n# To disable cloud-init's network configuration capabilities, write a file\n# /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:\n# network: {config: disabled}\nnetwork:\n    ethernets:\n        ens33:\n            dhcp4: no\n            addresses: [192.168.12.144/24]\n            optional: true\n            gateway4: 192.168.12.1\n            nameservers:\n                    addresses: [114.114.114.114,8.8.8.8]\n    version: 2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br")])]),e("h2",{attrs:{id:"应用配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#应用配置"}},[s._v("#")]),s._v(" 应用配置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("root@ubuntu:/home/ubuntu# sudo netplan apply\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这一步之后，如果你是通过原ip远程上的机器，就需要关闭终端会话用新ip去连接了")]),s._v(" "),e("p",[s._v("检查")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);