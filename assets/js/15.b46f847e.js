(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{424:function(e,r,t){"use strict";t.r(r);var a=t(30),s=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"docker-安装-cloudreve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装-cloudreve"}},[e._v("#")]),e._v(" docker 安装 cloudreve")]),e._v(" "),t("blockquote",[t("p",[e._v("在我之前，已有"),t("a",{attrs:{href:"https://hub.docker.com/r/ilemonrain/cloudreve/",target:"_blank",rel:"noopener noreferrer"}},[e._v("@ilemonrain"),t("OutboundLink")],1),e._v("提供了docker安装cloudreve的方法，但他的项目不太适合我的需求，所以又重新折腾了一遍。"),t("br"),e._v("\n我也不是很懂php，所以如果遇到Bug还请移步到"),t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cloudreve"),t("OutboundLink")],1),e._v("咯。"),t("br"),e._v("\n祝Cloudreve越来越好！！")])]),e._v(" "),t("p",[e._v("特点:")]),e._v(" "),t("ul",[t("li",[e._v("😎尽我所能的开箱即用")]),e._v(" "),t("li",[e._v("已配置好各种扩展(pdo、fileinfo、curl、gd)")]),e._v(" "),t("li",[e._v("集成"),t("a",{attrs:{href:"https://github.com/cloudreve/taskqueue",target:"_blank",rel:"noopener noreferrer"}},[e._v("taskqueue"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("集成"),t("a",{attrs:{href:"http://aria2.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Aria2"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("内置定时访问"),t("strong",[e._v("http://{host}:{port}/Cron")])]),e._v(" "),t("li",[e._v("❌用于2步验证的依赖库未安装(应该是用有这个依赖的项目重新打包就可以)")])]),e._v(" "),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[e._v("#")]),e._v(" 准备工作")]),e._v(" "),t("h3",{attrs:{id:"docker环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker环境"}},[e._v("#")]),e._v(" docker环境")]),e._v(" "),t("p",[e._v("略过...")]),e._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" mysql")]),e._v(" "),t("blockquote",[t("p",[e._v("这一步是用于准备一个mysql数据库")])]),e._v(" "),t("ol",[t("li",[t("RouterLink",{attrs:{to:"/dev-ops/deploy/database.html#mysql"}},[e._v("mysql搭建")])],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/mysql/mysql-create-db-and-user.html"}},[e._v("创建数据库、创建用户以及授权")])],1)]),e._v(" "),t("h2",{attrs:{id:"部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[e._v("#")]),e._v(" 部署")]),e._v(" "),t("h3",{attrs:{id:"启动cloudreve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动cloudreve"}},[e._v("#")]),e._v(" 启动cloudreve")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker run -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n--restart"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("always "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n--name cloudreve "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v(":80 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\njdkhome/cloudreve:1.1.1\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br")])]),t("h3",{attrs:{id:"初始化cloudreve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化cloudreve"}},[e._v("#")]),e._v(" 初始化cloudreve")]),e._v(" "),t("p",[e._v("启动后浏览器访问:")]),e._v(" "),t("p",[e._v("http://{host}:{port}/CloudreveInstaller/index.php")]),e._v(" "),t("p",[e._v("按照提示进行即可")]),e._v(" "),t("blockquote",[t("p",[e._v("如果你访问http://{host}:{port} 得到报错页面，大概率是你忘记访问上面的初始化链接了")])]),e._v(" "),t("p",[e._v("管理员账号密码")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("admin@cloudreve.org\nadmin\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("h2",{attrs:{id:"后续步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后续步骤"}},[e._v("#")]),e._v(" 后续步骤")]),e._v(" "),t("h3",{attrs:{id:"修改管理员密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改管理员密码"}},[e._v("#")]),e._v(" 修改管理员密码")]),e._v(" "),t("p",[e._v("略过...")]),e._v(" "),t("h3",{attrs:{id:"配置离线下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置离线下载"}},[e._v("#")]),e._v(" 配置离线下载")]),e._v(" "),t("p",[e._v("用管理员账号进到后台 管理面板 > 离线下载 > 配置")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("RPC Token   : 123456\n下载临时目录  : /var/www/html/temp\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[e._v("然后给相应用户组开启离线下载权限即可")]),e._v(" "),t("blockquote",[t("p",[e._v("如果希望自定义RPC Token, 可以设置容器环境变量"),t("strong",[e._v("ARIA2_TOKEN")])])]),e._v(" "),t("h3",{attrs:{id:"配置onedrive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置onedrive"}},[e._v("#")]),e._v(" 配置Onedrive")]),e._v(" "),t("p",[e._v("设置任务队列的token 管理面板 > 其他 > 任务队列 > 配置")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Token : 123456\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("完成设置之后，需要重启一下cloudreve的docker容器以启动taskqueue")]),e._v(" "),t("blockquote",[t("p",[e._v("如果希望自定义RPC Token, 可以设置容器环境变量"),t("strong",[e._v("CLOUDREVE_TOKEN")])])]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("docker restart cloudreve\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("接下来按照"),t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve/wiki/Onedrive%E5%AF%B9%E6%8E%A5%E8%AF%B4%E6%98%8E",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cloudreve官方的对接说明"),t("OutboundLink")],1),e._v("操作即可")]),e._v(" "),t("h2",{attrs:{id:"最后最后"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最后最后"}},[e._v("#")]),e._v(" 最后最后")]),e._v(" "),t("p",[e._v("项目开源到了"),t("a",{attrs:{href:"https://github.com/jdkhome/cloudreve",target:"_blank",rel:"noopener noreferrer"}},[e._v("jdkhome/cloudreve"),t("OutboundLink")],1),e._v(",如有问题可以给我提Issue")]),e._v(" "),t("p",[e._v("如果有帮到你麻烦给我和 "),t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cloudreve官方"),t("OutboundLink")],1),e._v(" 来个Star~")]),e._v(" "),t("p",[e._v("enjoy!")])])}),[],!1,null,null,null);r.default=s.exports}}]);