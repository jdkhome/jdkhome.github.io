(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{485:function(s,a,t){"use strict";t.r(a);var n=t(30),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"omni链-usdt-交易全流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#omni链-usdt-交易全流程"}},[s._v("#")]),s._v(" Omni链 USDT 交易全流程")]),s._v(" "),t("p",[s._v("目标:")]),s._v(" "),t("p",[s._v("使用命令行, 构造一笔USDT原始交易 转账1个USDT, 并使用第3个地址来支付BTC矿工费。")]),s._v(" "),t("p",[s._v("准备如下:")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("地址")]),s._v(" "),t("th",[s._v("描述")]),s._v(" "),t("th",[s._v("余额")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq")]),s._v(" "),t("td",[s._v("从该地址转出USDT")]),s._v(" "),t("td",[s._v("9 USDT & 0.00000546 BTC")])]),s._v(" "),t("tr",[t("td",[s._v("1P9oRFKX6StetGwDnQ5oAYA7HACFfruQXP")]),s._v(" "),t("td",[s._v("使用该地址接收USDT")]),s._v(" "),t("td",[s._v("--")])]),s._v(" "),t("tr",[t("td",[s._v("19gcfLWRcLHpsnR4bJzhUDhBm4FYNdZ5eZ")]),s._v(" "),t("td",[s._v("使用该地址支付手续费")]),s._v(" "),t("td",[s._v("0.00089454 BTC")])])])]),s._v(" "),t("h2",{attrs:{id:"交易形态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交易形态"}},[s._v("#")]),s._v(" 交易形态")]),s._v(" "),t("p",[s._v("目标的交易将会有 2个交易输入，3个交易输出。")]),s._v(" "),t("h3",{attrs:{id:"交易输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交易输入"}},[s._v("#")]),s._v(" 交易输入")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("序号")]),s._v(" "),t("th",[s._v("金额")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("0")]),s._v(" "),t("td",[s._v("0.00000546")]),s._v(" "),t("td",[s._v("转出USDT的地址的一笔unspent")])]),s._v(" "),t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("0.00089454")]),s._v(" "),t("td",[s._v("用于支付BTC矿工费的unspent")])])])]),s._v(" "),t("p",[s._v("注意这里的交易输入, 第一笔用来标记USDT转出方, 所以第一笔必须是USDT转出方的unspent"),t("br"),s._v("\n后面的unspent不受限制")]),s._v(" "),t("h3",{attrs:{id:"交易输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交易输出"}},[s._v("#")]),s._v(" 交易输出")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("序号")]),s._v(" "),t("th",[s._v("地址")]),s._v(" "),t("th",[s._v("金额")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("0")]),s._v(" "),t("td",[s._v("支付BTC矿工费的地址")]),s._v(" "),t("td",[s._v("待计算")]),s._v(" "),t("td",[s._v("得到交易的找零")])]),s._v(" "),t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("(可选)特殊的: 转出USDT的地址")]),s._v(" "),t("td",[s._v("0.00000546")]),s._v(" "),t("td",[s._v("转出地址仍有USDT余额，为方便以后继续转出，所以这里为它添加一笔UTXO")])]),s._v(" "),t("tr",[t("td",[s._v("2")]),s._v(" "),t("td",[s._v("接受USDT的地址")]),s._v(" "),t("td",[s._v("0.00000546")]),s._v(" "),t("td",[s._v("得到最小交易额的BTC")])]),s._v(" "),t("tr",[t("td",[s._v("3")]),s._v(" "),t("td",[s._v("--")]),s._v(" "),t("td",[s._v("0")]),s._v(" "),t("td",[s._v("Omni交易的payload")])])])]),s._v(" "),t("p",[s._v("交易输出同样有顺序要求, 除开payload, 最后一个地址代表转入方")]),s._v(" "),t("h2",{attrs:{id:"准备unspent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备unspent"}},[s._v("#")]),s._v(" 准备unspent")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/wallet/listunspent/")])]),s._v(" "),t("p",[s._v("按照交易输入的规划，先列出计划的2笔unspent")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli "listunspent" 1 9999999 "[\\"1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq\\",\\"19gcfLWRcLHpsnR4bJzhUDhBm4FYNdZ5eZ\\"]"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ffc30b3a3b1ec06428f54aaf67d515ef60afaa32318bb6487862bad5db5a6164"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"address"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"label"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"76a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00000546")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"confirmations"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spendable"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"solvable"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"desc"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"pkh([dde4e4d2/0'/0'/61']032d490398d4437d55aafc90c2bdc036d8445221bd8a026430a216285b49561a98)#9jknc64t\"")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"safe"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"457c7a5f32deb4e7a5427baf5fda5cb77a8c864f860e7b7e59e4f8b637352ea8"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"address"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"19gcfLWRcLHpsnR4bJzhUDhBm4FYNdZ5eZ"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"label"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"76a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac"')]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00089454")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"confirmations"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"spendable"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"solvable"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"desc"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"pkh([dde4e4d2/0'/0'/24']03b31f0fd70c0de45b2b976ea3224b791118cf71654324ee0bbc63b9cdd7895748)#4wq4wjns\"")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"safe"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h2",{attrs:{id:"准备payload"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备payload"}},[s._v("#")]),s._v(" 准备payload")]),s._v(" "),t("blockquote",[t("p",[s._v("https://github.com/OmniLayer/omnicore/blob/master/src/omnicore/doc/rpc-api.md#omni_createpayload_simplesend")])]),s._v(" "),t("p",[s._v("这里希望转账1个USDT, USDT在omni中的代号是31 所以生成payload如下:")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli "omni_createpayload_simplesend" 31 "1"')]),s._v("\n000000000000001f0000000005f5e100\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"计算手续费"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#计算手续费"}},[s._v("#")]),s._v(" 计算手续费")]),s._v(" "),t("h3",{attrs:{id:"计算size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#计算size"}},[s._v("#")]),s._v(" 计算size")]),s._v(" "),t("p",[s._v("2笔输入，4笔输出，那么按照通常的size计算公式就是")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("size = from * 148 + to * 34 + 10\n     = 2 * 148 + 4 * 34 + 10\n     = 442\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"获取千字节费率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取千字节费率"}},[s._v("#")]),s._v(" 获取千字节费率")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/util/estimatesmartfee/")])]),s._v(" "),t("p",[s._v("第2个参数代表我们希望 2个块内被确认，可以用它来控制交易速度")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./omnicore-cli estimatesmartfee 2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"feerate"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00024419")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"blocks"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"矿工费和找零金额"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#矿工费和找零金额"}},[s._v("#")]),s._v(" 矿工费和找零金额")]),s._v(" "),t("p",[s._v("那么最终的矿工费就是")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(">>> 442 * 0.00024419 / 1000\n0.00010793198\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("为了演示方便，这里就取个整: "),t("strong",[s._v("0.0001")])]),s._v(" "),t("p",[s._v("所以找零金额为")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(">>> (0.00089454 + 0.00000546) - (0.00000546 + 0.00000546) - 0.0001\n0.00078908\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"构建原始交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建原始交易"}},[s._v("#")]),s._v(" 构建原始交易")]),s._v(" "),t("h3",{attrs:{id:"btc原始交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#btc原始交易"}},[s._v("#")]),s._v(" BTC原始交易")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/rawtransactions/createrawtransaction/")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli createrawtransaction "[{\\"txid\\":\\"ffc30b3a3b1ec06428f54aaf67d515ef60afaa32318bb6487862bad5db5a6164\\",\\"vout\\":0},{\\"txid\\":\\"457c7a5f32deb4e7a5427baf5fda5cb77a8c864f860e7b7e59e4f8b637352ea8\\",\\"vout\\":1}]" "[{\\"19gcfLWRcLHpsnR4bJzhUDhBm4FYNdZ5eZ\\":0.00078908},{\\"1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq\\":0.00000546},{\\"1P9oRFKX6StetGwDnQ5oAYA7HACFfruQXP\\":0.00000546}]"')]),s._v("\n020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff0000000000ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c450100000000ffffffff033c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac00000000\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"为交易附加omni-payload"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为交易附加omni-payload"}},[s._v("#")]),s._v(" 为交易附加omni-payload")]),s._v(" "),t("blockquote",[t("p",[s._v("https://github.com/OmniLayer/omnicore/blob/master/src/omnicore/doc/rpc-api.md#omni_createrawtx_opreturn")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli "omni_createrawtx_opreturn" "020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff0000000000ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c450100000000ffffffff033c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac00000000" "000000000000001f0000000005f5e100"')]),s._v("\n020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff0000000000ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c450100000000ffffffff043c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac0000000000000000166a146f6d6e69000000000000001f0000000005f5e10000000000\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("保险起见，这里再把交易解码用于检查")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/rawtransactions/decoderawtransaction/")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli decoderawtransaction "020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff0000000000ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c450100000000ffffffff043c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac0000000000000000166a146f6d6e69000000000000001f0000000005f5e10000000000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ab6b3efbe006e1bc93748ac3f5a0a554fc7522836e73338b4e9501ebd643b4ba"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hash"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ab6b3efbe006e1bc93748ac3f5a0a554fc7522836e73338b4e9501ebd643b4ba"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("225")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vsize"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("225")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("900")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"locktime"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vin"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ffc30b3a3b1ec06428f54aaf67d515ef60afaa32318bb6487862bad5db5a6164"')]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptSig"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sequence"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4294967295")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"457c7a5f32deb4e7a5427baf5fda5cb77a8c864f860e7b7e59e4f8b637352ea8"')]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptSig"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sequence"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4294967295")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00078908")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OP_DUP OP_HASH160 5f3eff3f4dc66711d4af126237ff6dc687a16c98 OP_EQUALVERIFY OP_CHECKSIG"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"76a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reqSigs"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pubkeyhash"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addresses"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"19gcfLWRcLHpsnR4bJzhUDhBm4FYNdZ5eZ"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00000546")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OP_DUP OP_HASH160 ac07019440151fbcffa16ea4cbd0db74ef1c797a OP_EQUALVERIFY OP_CHECKSIG"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"76a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reqSigs"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pubkeyhash"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addresses"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00000546")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OP_DUP OP_HASH160 f2fcd7c009958accec2e1b6210d82854fd791884 OP_EQUALVERIFY OP_CHECKSIG"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"76a914f2fcd7c009958accec2e1b6210d82854fd79188488ac"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reqSigs"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pubkeyhash"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addresses"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1P9oRFKX6StetGwDnQ5oAYA7HACFfruQXP"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00000000")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(",\n      "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OP_RETURN 6f6d6e69000000000000001f0000000005f5e100"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6a146f6d6e69000000000000001f0000000005f5e100"')]),s._v(",\n        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nulldata"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br")])]),t("h2",{attrs:{id:"签名与广播"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#签名与广播"}},[s._v("#")]),s._v(" 签名与广播")]),s._v(" "),t("h3",{attrs:{id:"签名交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#签名交易"}},[s._v("#")]),s._v(" 签名交易")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/rawtransactions/signrawtransactionwithkey/")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli signrawtransactionwithkey "020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff0000000000ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c450100000000ffffffff043c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac0000000000000000166a146f6d6e69000000000000001f0000000005f5e10000000000" "[\\"***人工打马***USDT输出地址的私钥***\\",\\"***人工打马***支付BTC矿工费的地址的私钥***\\"]"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff000000006a4730440220130a59785b3ae45e02ab808e1a01fa47aeb9e4d4f009729bc075efd3a58fcc950220160432fc06e134432466459f9c896f1d5fbf48bf5335607bd7d3e0e16e8194e90121032d490398d4437d55aafc90c2bdc036d8445221bd8a026430a216285b49561a98ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c45010000006a473044022065d356ead55f376c43b3ac0a031be94e960750367c70a6d181246ac26656b274022039571f885e51deab46cf0ab938517dc1588bfc5192bbaf92b55c43d023df276a012103b31f0fd70c0de45b2b976ea3224b791118cf71654324ee0bbc63b9cdd7895748ffffffff043c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac0000000000000000166a146f6d6e69000000000000001f0000000005f5e10000000000"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"complete"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"广播交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#广播交易"}},[s._v("#")]),s._v(" 广播交易")]),s._v(" "),t("blockquote",[t("p",[s._v("https://bitcoincore.org/en/doc/0.18.0/rpc/rawtransactions/sendrawtransaction/")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli sendrawtransaction "020000000264615adbd5ba627848b68b3132aaaf60ef15d567af4af52864c01e3b3a0bc3ff000000006a4730440220130a59785b3ae45e02ab808e1a01fa47aeb9e4d4f009729bc075efd3a58fcc950220160432fc06e134432466459f9c896f1d5fbf48bf5335607bd7d3e0e16e8194e90121032d490398d4437d55aafc90c2bdc036d8445221bd8a026430a216285b49561a98ffffffffa82e3537b6f8e4597e7b0e864f868c7ab75cda5faf7b42a5e7b4de325f7a7c45010000006a473044022065d356ead55f376c43b3ac0a031be94e960750367c70a6d181246ac26656b274022039571f885e51deab46cf0ab938517dc1588bfc5192bbaf92b55c43d023df276a012103b31f0fd70c0de45b2b976ea3224b791118cf71654324ee0bbc63b9cdd7895748ffffffff043c340100000000001976a9145f3eff3f4dc66711d4af126237ff6dc687a16c9888ac22020000000000001976a914ac07019440151fbcffa16ea4cbd0db74ef1c797a88ac22020000000000001976a914f2fcd7c009958accec2e1b6210d82854fd79188488ac0000000000000000166a146f6d6e69000000000000001f0000000005f5e10000000000"')]),s._v("\necf0e40b6c22ae8e3126a9d6570acbddeeca836a111142e616903bc1575c81b2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("广播交易返回的结果就是txid")]),s._v(" "),t("h3",{attrs:{id:"查看交易"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看交易"}},[s._v("#")]),s._v(" 查看交易")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@d0ea558e20d3 bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ./omnicore-cli omni_gettransaction "ecf0e40b6c22ae8e3126a9d6570acbddeeca836a111142e616903bc1575c81b2"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ecf0e40b6c22ae8e3126a9d6570acbddeeca836a111142e616903bc1575c81b2"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fee"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.00010000"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sendingaddress"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1Ggbcnw6uo45zBMP1AZVYkLStzwcajSwfq"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"referenceaddress"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1P9oRFKX6StetGwDnQ5oAYA7HACFfruQXP"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ismine"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type_int"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Simple Send"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"propertyid"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"divisible"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"amount"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.00000000"')]),s._v(",\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"confirmations"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("当然也可以在区块浏览器上查看交易")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://btc.com/ecf0e40b6c22ae8e3126a9d6570acbddeeca836a111142e616903bc1575c81b2",target:"_blank",rel:"noopener noreferrer"}},[s._v("BTC区块浏览器"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.omniexplorer.info/search/ecf0e40b6c22ae8e3126a9d6570acbddeeca836a111142e616903bc1575c81b2",target:"_blank",rel:"noopener noreferrer"}},[s._v("OMNI区块浏览器"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);